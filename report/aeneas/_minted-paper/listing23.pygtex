\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{let} \PYG{n}{call\PYGZus{}choose\PYGZus{}fwd} \PYG{o}{(}\PYG{n}{s0} \PYG{o}{:} \PYG{o}{(}\PYG{n}{u32} \PYG{o}{\PYGZam{}} \PYG{n}{u32}\PYG{o}{))} \PYG{o}{:} \PYG{n}{u32} \PYG{o}{=}
  \PYG{k+kd}{let} \PYG{o}{(}\PYG{n}{s1}\PYG{o}{,} \PYG{n}{s2}\PYG{o}{)} \PYG{o}{=} \PYG{n}{s0} \PYG{k}{in}
  \PYG{n}{s3} \PYG{o}{\PYGZlt{}\PYGZhy{}\PYGZhy{}} \PYG{n}{choose\PYGZus{}fwd} \PYG{n+nb+bp}{true} \PYG{n}{s1} \PYG{n}{s2}\PYG{o}{;}
  \PYG{k+kd}{let} \PYG{n}{s4} \PYG{o}{=} \PYG{n}{s3} \PYG{k}{in}
  \PYG{n}{s5} \PYG{o}{\PYGZlt{}\PYGZhy{}\PYGZhy{}} \PYG{n}{u32\PYGZus{}add} \PYG{n}{s4} \PYG{l+m+mi}{1}\PYG{o}{;}
  \PYG{o}{(}\PYG{n}{s6}\PYG{o}{,} \PYG{n}{s7}\PYG{o}{)} \PYG{o}{\PYGZlt{}\PYGZhy{}\PYGZhy{}} \PYG{n}{choose\PYGZus{}back} \PYG{n+nb+bp}{true} \PYG{n}{s1} \PYG{n}{s2} \PYG{n}{s5}\PYG{o}{;}
  \PYG{o}{[.]}
\end{Verbatim}
